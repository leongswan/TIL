# TIL（2026/2/21）C言語：型と配列 / 文字・数字の表現 / 構造体

## 1. C言語の「型」と変数
- **型**は「その変数に入るデータの種類」を決めるルール。
  - `int`：整数
  - `char`：文字（1文字）
  - `char[]`：文字列（文字の配列）

### 例：整数の変数
```c
int x = 6;

int age = 20;
printf("I'm %d.\n", age);
```
- %d は int（整数） を表示するための書式指定子。

---

## 2. 文字・文字列の表現
### char（1文字）
- 1文字は char で表す（例：'A' のように シングルクォート）。
### char name[100] = "Ryota";（文字列）
- Cの文字列は charの配列（末尾に '\0' が入る）。

```c
char name[100] = "Ryota";
```
### printfでの表示（重要）
- 文字列を表示するなら %s
- 1文字を表示するなら %c

```c
printf("My name is %s\n", name);  // 文字列
// printf("My name is %c\n", name);  // ←これは1文字用なので不適切
```

---

## 3. 配列（Array）
- 配列は「同じ型のデータをまとめて扱う」仕組み。
- 添字（インデックス）は 0から始まる。

```c
int nums[5] = {4, 5, 6, 7, 2};
printf("%d\n", nums[2]);  // 0:4, 1:5, 2:6 → 出力は6
```

※例の num[2] は変数名が nums なので、nums[2] が正しい。

---

## 4. 構造体（struct）
- 複数の型のデータをまとめて1つの「型」として扱える。
- 例：動物データ（ID・名前・敵のポインタ）をまとめる

### 構造体の定義
```c
struct animal {
    int id;
    char name[100];
    struct animal *enemy;  // enemyは別のanimalを指す（ポインタ）
};
```

---

## 5. 構造体配列とポインタ参照
- animals[3] のように、構造体も配列にできる
- enemy に &animals[i] を入れると「配列の要素を指す」ことができる

```c
struct animal animals[3] = {
    {1, "Buffalo", NULL},
    {2, "Dolphin", &animals[2]},
    {3, "Goat",    &animals[1]},
};
```

### 表示例（id / name）
```c
printf("%d\n", animals[1].id);      // 2
printf("%s\n", animals[1].name);    // Dolphin
```

※例の printf("%d\n", animals[1],name); は書き方が不適切。
構造体の中身を出すときは animals[1].name のように ドット演算子でフィールドを指定する。

---

## 6. 今日のポイント

- Cの文字列は char配列（%sで表示）
- 配列の添字は 0開始
- 構造体は「複数データをまとめる型」
- 構造体配列 + ポインタで「別要素への参照（敵など）」が表現できる
