# 2026-01-19
## 今日学んだこと（模擬テスト：問題31〜36）

---

## 問題31：論理回路（図あり）

✅ **答え：イ（XOR：排他的論理和）**

この回路は
(¬A ∧ B) ∨ (A ∧ ¬B) になっていて、AとBが違うときだけ1になります。
```text

X = (NOT A AND B) OR (A AND NOT B)

A B | X
0 0 | 0
0 1 | 1
1 0 | 1
1 1 | 0

```

---

## 問題32：H.264/MPEG-4 AVC

✅ **答え：ワンセグ放送で使用されている動画圧縮技術**

- H.264（MPEG-4 AVC）は高圧縮・高画質を実現する代表的な動画圧縮方式。

## 問題33：SQL（GROUP BY / HAVING）

✅ **答え：ウ（学生番号 HAVING AVG(点数) >= 80）**

ポイント：

- 学生ごとに平均 → GROUP BY 学生番号

- 平均80以上は集計結果の条件 → HAVING

```text

SELECT 学生番号, AVG(点数) AS 平均点
FROM 得点
GROUP BY 学生番号
HAVING AVG(点数) >= 80;

```

---

## 問題34：関係モデルの演算

✅ **答え：射影（projection）**

- 関係（表）から 特定の列（属性）だけを取り出す演算。

---

## 問題35：トランザクション状態遷移（図あり）

✅ **答え：イ（アボート処理中 → コミット処理中 が起こらない）**

アボート処理に入ったら、コミット側へは戻れないのが基本です。
```text

（代表的な遷移イメージ）

アクティブ
  | \
  |  \ (異常)
  |   -> アボート処理中 -> アボート済
  |
  -> コミット処理中 -> コミット済

```

---

## 問題36：2相ロッキングとデッドロック回避（図あり）

✅ **答え：ウ（Bの順序：update X → read W → update Y → update Z）**

### なぜ「ウ」だとデッドロックしない？

- 2相ロックでは トランザクション終了までロックを解放しない

- デッドロックの原因は 「お互いが相手のロック解除待ち」＝循環待ち

### デッドロックになる例（イメージ）
```text

AがXを保持 → Yが欲しい
BがYを保持 → Xが欲しい
⇒ お互い待ち（循環）で停止

```

### 正解「ウ」の流れ（待ちが一方向で循環しない）
```text

時系列イメージ（ロック）

B: update X   → Xをロック（専有）
A: read W     → Wをロック（共有）※共有同士はOK
A: update X   → Xが取れず待つ（AはWだけ。XやYを保持してない）
B: read W     → W共有なのでOK
B: update Y → update Z → 終了してロック解放
A:（待ち解除）update X → update Y → update Z

```

---

## 今日のまとめ

- 問題31：回路は XOR（違うとき1）
- 問題33：集計後の条件は HAVING、学生ごとなら GROUP BY 学生番号
- 問題35：アボート中 → コミット中には遷移しない
- 問題36：2相ロックは「ロック解放しない」ので、循環待ちを作らない順序が重要
