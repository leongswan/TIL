# 2026-01-01
## 今日学んだこと（SQL基礎）

---

## 1) SQLとは
- **SQL（Structured Query Language）** は  
  **リレーショナルデータベース（RDB）を操作するための言語**
- データの検索・追加・更新・削除・集計を行う

---

## 2) 関係演算とSQL
リレーショナルデータベースは「**関係演算**」を理論的な基礎としている。

| 関係演算 | SQLでの対応 | 内容 |
|---|---|---|
| **射影** | SELECT 列名 | 必要な列だけ取り出す |
| **選択** | WHERE | 条件に合う行を取り出す |

---

## 3) SELECT（検索）
```sql
SELECT name, age
FROM users;
```

- 射影：必要な列（name, age）だけを取得

---

## 4) 条件指定（WHERE）
```sql
SELECT *
FROM users
WHERE age >= 20;
```

- 条件に合う行のみを抽出する

- 比較演算子：=, !=, >, <, >=, <=

```sql
SELECT *
FROM users
WHERE age >= 20 AND gender = 'male';
```

---

## 5) INSERT（追加）
```sql
INSERT INTO users (name, age)
VALUES ('Taro', 25);
```

- テーブルに新しいレコードを追加

---

## 6) UPDATE（更新）
```sql
UPDATE users
SET age = 26
WHERE name = 'Taro';
```

- ⚠️ WHEREを書かないと全レコードが更新されるので注意

---

## 7) DELETE（削除）
```sql
DELETE FROM users
WHERE age < 18;
```

- 条件に合うレコードを削除する

---

## 8) 集計関数
| 関数 | 内容 |
|------|------|
| **SUM()** |	合計 |
| **COUNT()** |	件数 |
| **AVG()** |	平均 |
```sql
SELECT COUNT(*) FROM users;
```
```sql
SELECT AVG(age) FROM users;
```
```sql
SELECT SUM(price) FROM products;
```

---

## 9) グループ分け（GROUP BY）
```sql
SELECT department, COUNT(*)
FROM employees
GROUP BY department;
```

- 同じ値を持つデータをまとめて集計する

- GROUP BY に指定した列のみ SELECT できる

---

## 10) ストアドプロシージャとは

- データベース内に保存される処理のまとまり
- 複数のSQLをまとめて実行できる

### 特徴

- DB側で処理を実行するため 高速
- ロジックを一元管理できる
- セキュリティ向上（直接SQLを触らせない）

```sql
DELIMITER //
CREATE PROCEDURE get_user_count()
BEGIN
  SELECT COUNT(*) FROM users;
END //
DELIMITER ;
```

---

## 11) SQL基本操作まとめ
| 操作 | SQL |
|------|------|
| 検索	| SELECT |
| 追加	| INSERT |
| 更新	| UPDATE |
| 削除	| DELETE |
| 条件指定	| WHERE |
| 集計	| SUM / COUNT / AVG |
| グループ化	| GROUP BY |

---

## 今日のまとめ

- SQLはRDBを操作するための標準言語
- SELECTとWHEREで必要なデータを抽出
- INSERT / UPDATE / DELETEでデータを操作
- 集計関数とGROUP BYでデータを分析
- ストアドプロシージャはDB側に処理を持たせる仕組み


