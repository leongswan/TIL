# 2026-01-17
## 今日学んだこと（模擬テスト：問題11〜20）

---

## 問題11：検索結果の上位に悪意サイトを出す攻撃
✅ **答え：SEOポイズニング（SEO Poisoning）**  
- 検索エンジン最適化（SEO）を悪用して、検索結果の上位に悪意のあるサイトを表示させる攻撃。

---

## 問題12：DMZ構成（図あり）
**状況**  
1台のファイアウォールで「外部 / DMZ / 内部」に分割。Webサービスを公開し、DBの重要データを守る。

✅ **答え：WebサーバはDMZ、DBサーバは内部セグメントに設置**

### 理由
- インターネットから直接アクセスされるのはWebサーバなので **DMZに置く**
- DBは重要データを持つため **内部セグメントに隔離**
- FWで **外部↔内部の直接通信を禁止**し、  
  **外部→DMZ** と **DMZ→内部** の必要最小限だけ許可するのが基本

### 図（おすすめ構成）
```text
           [ Internet / 外部セグメント ]
                     |
                  (許可: HTTP/HTTPS)
                     |
                +----+----+
                | Firewall |
                +----+----+
                     |
          +----------+-----------+
          |                      |
     [ DMZセグメント ]      [ 内部セグメント ]
        Webサーバ              DBサーバ
          |                      |
   (許可: DB接続だけ)      (外部から直接禁止)
          |                      |
          +----------->----------+
             Web→DBのみ許可
```

---

## 問題13：SIEMの機能
✅ **答え：ログを集約し相関分析して、分析と対応を支援する**
- 様々な機器（FW/サーバ/IDS/端末など）からログを収集し、横断的に分析して異常検知や調査を支援する。

---

## 問題14：送信者をドメインAのメールサーバで認証する仕組み
✅ **答え：SMTP-AUTH**
- 送信（SMTP）時に、送信者がメールサーバへ ID/パスワード認証してから送る仕組み。

---

## 問題15：10進→2進（8桁）変換の流れ図（図あり）

**状況**
10進整数 j（0<j<100）を8桁の2進数へ。
下位桁から NISHIN(1) ... NISHIN(8) に格納。
j div 2 は商、j mod 2 は余り。

✅ **答え（典型アルゴリズム）**

- a：NISHIN(i) ← j mod 2

- b：j ← j div 2

### 理由

- 2進数の下位ビットは 2で割った余り（mod 2）

- 次の桁に進むために 2で割った商（div 2） へ更新する

### 図（流れのイメージ）
```text
Start
  |
  |  i = 1
  v
+-------------------+
| i <= 8 ?          |
+-------------------+
   |Yes                   |No
   v                      v
+-------------------+   End
| NISHIN(i) = j mod 2 |
+-------------------+
          |
          v
+-------------------+
| j = j div 2       |
+-------------------+
          |
          v
+-------------------+
| i = i + 1         |
+-------------------+
          |
          +-----> (i <= 8 ?)
```
---

## 問題16：8ビットの全ビット反転操作

✅ **答え：XORで 16進FF と排他的論理和をとる（X ⊕ FF）**

- 8ビットの 11111111(=FF) とXORすると各ビットが必ず反転するため。

**例：**
0101 0011 ⊕ 1111 1111 = 1010 1100 

---

## 問題17：隣接行列→無向グラフ（図あり：作り方）
**解き方（無向グラフ）**

- 行列の (i, j) が 1なら iとjを線で結ぶ

- 無向グラフなら通常、行列は左右対称（(i,j)=(j,i)）

- 対角成分 (i,i) は自己ループがある場合のみ 1

### 図の描き方（テンプレ）
```text
隣接行列の例（1が立っている所だけ結ぶ）
   A B C D
A  0 1 0 1   → A-B, A-D
B  1 0 1 0   → B-C
C  0 1 0 1   → C-D
D  1 0 1 0

グラフ（例）
A --- B
|     |
D --- C

```
---

## 問題18：Cが0になる確率
### ポイント

- Cが0になるには AとBが同じ値 になればよい

- A,Bは0〜9（10通り）なので全組合せは 10×10=100通り

- 同じ値は (0,0)〜(9,9) の10通り

✅ **答え：10/100 = 1/10**

---

## 問題19：BNFの＜変数名＞に合致するもの
**BNF要約**

- 先頭は 英字（A〜F）

- 2文字目以降は 英字（A〜F） or 数字 or _

✅ **答え：F5_1**

- 先頭F（英字）OK

- 5 と _ と 1 は英数字（定義上OK）
 
---

## 問題20：スタック最小個数（答え：3）（図あり）

- 入力：A, C, K, S, T
- 出力：S, T, A, C, K
- 条件：ポップしたら必ず出力。スタック間移動なし。

✅ **答え：3個**

### 考え方（ざっくり）

- 先に S,T を出すには、途中の A,C,K を一時退避させる必要がある

- A,C,K を A→C→K で出すには、LIFOの性質上、退避の分け方が必要
→ 最小が3になる

### 図（3スタックのイメージ）
```text
入力順: A, C, K, S, T
出力順: S, T, A, C, K

Stack1: A
Stack2: C
Stack3: K

その後、S→Tを出力してから、A→C→Kを出力できるように配置する

```
---
## 今日のまとめ
- SEOポイズニング：検索上位を悪用する攻撃
- DMZ構成：WebはDMZ、DBは内部（外部↔内部の直通禁止）
- SIEM：ログ集約＆相関分析で対応支援
- SMTP-AUTH：送信時の認証
- 10進→2進変換：mod 2 を格納し、div 2 で更新
- 全ビット反転：XOR FF
- 隣接行列：1の箇所を線で結ぶ（行列があれば図を確定できる）
- 確率：一致条件の数/全組合せ
- BNF：先頭文字の制約に注意
- スタック問題：図で追うと判断しやすい（今回は3）
